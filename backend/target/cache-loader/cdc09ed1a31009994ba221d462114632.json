{"remainingRequest":"/Users/jesusviloria/Documents/Crowdbotics/APTariffs/misc/apptest_cb/jhipstertest-26756/backend/node_modules/thread-loader/dist/cjs.js??ruleSet[1].rules[0].use[1]!/Users/jesusviloria/Documents/Crowdbotics/APTariffs/misc/apptest_cb/jhipstertest-26756/backend/node_modules/ts-loader/index.js??ruleSet[1].rules[0].use[2]!/Users/jesusviloria/Documents/Crowdbotics/APTariffs/misc/apptest_cb/jhipstertest-26756/backend/src/main/webapp/app/shared/auth/private-route.tsx","dependencies":[{"path":"/Users/jesusviloria/Documents/Crowdbotics/APTariffs/misc/apptest_cb/jhipstertest-26756/backend/src/main/webapp/app/shared/auth/private-route.tsx","mtime":1621189592623},{"path":"/Users/jesusviloria/Documents/Crowdbotics/APTariffs/misc/apptest_cb/jhipstertest-26756/backend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jesusviloria/Documents/Crowdbotics/APTariffs/misc/apptest_cb/jhipstertest-26756/backend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jesusviloria/Documents/Crowdbotics/APTariffs/misc/apptest_cb/jhipstertest-26756/backend/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgX19yZXN0IH0gZnJvbSAidHNsaWIiOwppbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnOwppbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnOwppbXBvcnQgeyBSb3V0ZSwgUmVkaXJlY3QgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJzsKaW1wb3J0IHsgVHJhbnNsYXRlIH0gZnJvbSAncmVhY3QtamhpcHN0ZXInOwppbXBvcnQgRXJyb3JCb3VuZGFyeSBmcm9tICdhcHAvc2hhcmVkL2Vycm9yL2Vycm9yLWJvdW5kYXJ5JzsKZXhwb3J0IGNvbnN0IFByaXZhdGVSb3V0ZUNvbXBvbmVudCA9IChfYSkgPT4gewogICAgdmFyIHsgY29tcG9uZW50OiBDb21wb25lbnQsIGlzQXV0aGVudGljYXRlZCwgc2Vzc2lvbkhhc0JlZW5GZXRjaGVkLCBpc0F1dGhvcml6ZWQsIGhhc0FueUF1dGhvcml0aWVzID0gW10gfSA9IF9hLCByZXN0ID0gX19yZXN0KF9hLCBbImNvbXBvbmVudCIsICJpc0F1dGhlbnRpY2F0ZWQiLCAic2Vzc2lvbkhhc0JlZW5GZXRjaGVkIiwgImlzQXV0aG9yaXplZCIsICJoYXNBbnlBdXRob3JpdGllcyJdKTsKICAgIGNvbnN0IGNoZWNrQXV0aG9yaXRpZXMgPSBwcm9wcyA9PiBpc0F1dGhvcml6ZWQgPyAoUmVhY3QuY3JlYXRlRWxlbWVudChFcnJvckJvdW5kYXJ5LCBudWxsLAogICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50LCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcykpKSkgOiAoUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgeyBjbGFzc05hbWU6ICJpbnN1ZmZpY2llbnQtYXV0aG9yaXR5IiB9LAogICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAiYWxlcnQgYWxlcnQtZGFuZ2VyIiB9LAogICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFRyYW5zbGF0ZSwgeyBjb250ZW50S2V5OiAiZXJyb3IuaHR0cC40MDMiIH0sICJZb3UgYXJlIG5vdCBhdXRob3JpemVkIHRvIGFjY2VzcyB0aGlzIHBhZ2UuIikpKSk7CiAgICBjb25zdCByZW5kZXJSZWRpcmVjdCA9IHByb3BzID0+IHsKICAgICAgICBpZiAoIXNlc3Npb25IYXNCZWVuRmV0Y2hlZCkgewogICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgbnVsbCk7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICByZXR1cm4gaXNBdXRoZW50aWNhdGVkID8gKGNoZWNrQXV0aG9yaXRpZXMocHJvcHMpKSA6IChSZWFjdC5jcmVhdGVFbGVtZW50KFJlZGlyZWN0LCB7IHRvOiB7CiAgICAgICAgICAgICAgICAgICAgcGF0aG5hbWU6ICcvbG9naW4nLAogICAgICAgICAgICAgICAgICAgIHNlYXJjaDogcHJvcHMubG9jYXRpb24uc2VhcmNoLAogICAgICAgICAgICAgICAgICAgIHN0YXRlOiB7IGZyb206IHByb3BzLmxvY2F0aW9uIH0sCiAgICAgICAgICAgICAgICB9IH0pKTsKICAgICAgICB9CiAgICB9OwogICAgaWYgKCFDb21wb25lbnQpCiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBIGNvbXBvbmVudCBuZWVkcyB0byBiZSBzcGVjaWZpZWQgZm9yIHByaXZhdGUgcm91dGUgZm9yIHBhdGggJHtyZXN0LnBhdGh9YCk7CiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChSb3V0ZSwgT2JqZWN0LmFzc2lnbih7fSwgcmVzdCwgeyByZW5kZXI6IHJlbmRlclJlZGlyZWN0IH0pKTsKfTsKZXhwb3J0IGNvbnN0IGhhc0FueUF1dGhvcml0eSA9IChhdXRob3JpdGllcywgaGFzQW55QXV0aG9yaXRpZXMpID0+IHsKICAgIGlmIChhdXRob3JpdGllcyAmJiBhdXRob3JpdGllcy5sZW5ndGggIT09IDApIHsKICAgICAgICBpZiAoaGFzQW55QXV0aG9yaXRpZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgICByZXR1cm4gaGFzQW55QXV0aG9yaXRpZXMuc29tZShhdXRoID0+IGF1dGhvcml0aWVzLmluY2x1ZGVzKGF1dGgpKTsKICAgIH0KICAgIHJldHVybiBmYWxzZTsKfTsKY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gKHsgYXV0aGVudGljYXRpb246IHsgaXNBdXRoZW50aWNhdGVkLCBhY2NvdW50LCBzZXNzaW9uSGFzQmVlbkZldGNoZWQgfSB9LCB7IGhhc0FueUF1dGhvcml0aWVzID0gW10gfSkgPT4gKHsKICAgIGlzQXV0aGVudGljYXRlZCwKICAgIGlzQXV0aG9yaXplZDogaGFzQW55QXV0aG9yaXR5KGFjY291bnQuYXV0aG9yaXRpZXMsIGhhc0FueUF1dGhvcml0aWVzKSwKICAgIHNlc3Npb25IYXNCZWVuRmV0Y2hlZCwKfSk7Ci8qKgogKiBBIHJvdXRlIHdyYXBwZWQgaW4gYW4gYXV0aGVudGljYXRpb24gY2hlY2sgc28gdGhhdCByb3V0aW5nIGhhcHBlbnMgb25seSB3aGVuIHlvdSBhcmUgYXV0aGVudGljYXRlZC4KICogQWNjZXB0cyBzYW1lIHByb3BzIGFzIFJlYWN0IHJvdXRlciBSb3V0ZS4KICogVGhlIHJvdXRlIGFsc28gY2hlY2tzIGZvciBhdXRob3JpemF0aW9uIGlmIGhhc0FueUF1dGhvcml0aWVzIGlzIHNwZWNpZmllZC4KICovCmV4cG9ydCBjb25zdCBQcml2YXRlUm91dGUgPSBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgbnVsbCwgbnVsbCwgeyBwdXJlOiBmYWxzZSB9KShQcml2YXRlUm91dGVDb21wb25lbnQpOwpleHBvcnQgZGVmYXVsdCBQcml2YXRlUm91dGU7Cg=="},{"version":3,"file":"/Users/jesusviloria/Documents/Crowdbotics/APTariffs/misc/apptest_cb/jhipstertest-26756/backend/src/main/webapp/app/shared/auth/private-route.tsx","sourceRoot":"","sources":["/Users/jesusviloria/Documents/Crowdbotics/APTariffs/misc/apptest_cb/jhipstertest-26756/backend/src/main/webapp/app/shared/auth/private-route.tsx"],"names":[],"mappings":";AAAA,OAAO,KAAK,MAAM,OAAO,CAAC;AAC1B,OAAO,EAAE,OAAO,EAAE,MAAM,aAAa,CAAC;AACtC,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAc,MAAM,kBAAkB,CAAC;AAC/D,OAAO,EAAE,SAAS,EAAE,MAAM,gBAAgB,CAAC;AAE3C,OAAO,aAAa,MAAM,iCAAiC,CAAC;AAQ5D,MAAM,CAAC,MAAM,qBAAqB,GAAG,CAAC,EAOjB,EAAE,EAAE;QAPa,EACpC,SAAS,EAAE,SAAS,EACpB,eAAe,EACf,qBAAqB,EACrB,YAAY,EACZ,iBAAiB,GAAG,EAAE,OAEH,EADhB,IAAI,cAN6B,8FAOrC,CADQ;IAEP,MAAM,gBAAgB,GAAG,KAAK,CAAC,EAAE,CAC/B,YAAY,CAAC,CAAC,CAAC,CACb,oBAAC,aAAa;QACZ,oBAAC,SAAS,oBAAK,KAAK,EAAI,CACV,CACjB,CAAC,CAAC,CAAC,CACF,6BAAK,SAAS,EAAC,wBAAwB;QACrC,6BAAK,SAAS,EAAC,oBAAoB;YACjC,oBAAC,SAAS,IAAC,UAAU,EAAC,gBAAgB,kDAAwD,CAC1F,CACF,CACP,CAAC;IAEJ,MAAM,cAAc,GAAG,KAAK,CAAC,EAAE;QAC7B,IAAI,CAAC,qBAAqB,EAAE;YAC1B,OAAO,gCAAW,CAAC;SACpB;aAAM;YACL,OAAO,eAAe,CAAC,CAAC,CAAC,CACvB,gBAAgB,CAAC,KAAK,CAAC,CACxB,CAAC,CAAC,CAAC,CACF,oBAAC,QAAQ,IACP,EAAE,EAAE;oBACF,QAAQ,EAAE,QAAQ;oBAClB,MAAM,EAAE,KAAK,CAAC,QAAQ,CAAC,MAAM;oBAC7B,KAAK,EAAE,EAAE,IAAI,EAAE,KAAK,CAAC,QAAQ,EAAE;iBAChC,GACD,CACH,CAAC;SACH;IACH,CAAC,CAAC;IAEF,IAAI,CAAC,SAAS;QAAE,MAAM,IAAI,KAAK,CAAC,gEAAiE,IAAY,CAAC,IAAI,EAAE,CAAC,CAAC;IAEtH,OAAO,oBAAC,KAAK,oBAAK,IAAI,IAAE,MAAM,EAAE,cAAc,IAAI,CAAC;AACrD,CAAC,CAAC;AAEF,MAAM,CAAC,MAAM,eAAe,GAAG,CAAC,WAAqB,EAAE,iBAA2B,EAAE,EAAE;IACpF,IAAI,WAAW,IAAI,WAAW,CAAC,MAAM,KAAK,CAAC,EAAE;QAC3C,IAAI,iBAAiB,CAAC,MAAM,KAAK,CAAC,EAAE;YAClC,OAAO,IAAI,CAAC;SACb;QACD,OAAO,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;KACnE;IACD,OAAO,KAAK,CAAC;AACf,CAAC,CAAC;AAEF,MAAM,eAAe,GAAG,CACtB,EAAE,cAAc,EAAE,EAAE,eAAe,EAAE,OAAO,EAAE,qBAAqB,EAAE,EAAc,EACnF,EAAE,iBAAiB,GAAG,EAAE,EAAa,EACrC,EAAE,CAAC,CAAC;IACJ,eAAe;IACf,YAAY,EAAE,eAAe,CAAC,OAAO,CAAC,WAAW,EAAE,iBAAiB,CAAC;IACrE,qBAAqB;CACtB,CAAC,CAAC;AAIH;;;;GAIG;AACH,MAAM,CAAC,MAAM,YAAY,GAAG,OAAO,CAAC,eAAe,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,CAAC,qBAAqB,CAAC,CAAC;AAEzG,eAAe,YAAY,CAAC","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport { Route, Redirect, RouteProps } from 'react-router-dom';\nimport { Translate } from 'react-jhipster';\nimport { IRootState } from 'app/shared/reducers';\nimport ErrorBoundary from 'app/shared/error/error-boundary';\n\ninterface IOwnProps extends RouteProps {\n  hasAnyAuthorities?: string[];\n}\n\nexport interface IPrivateRouteProps extends IOwnProps, StateProps {}\n\nexport const PrivateRouteComponent = ({\n  component: Component,\n  isAuthenticated,\n  sessionHasBeenFetched,\n  isAuthorized,\n  hasAnyAuthorities = [],\n  ...rest\n}: IPrivateRouteProps) => {\n  const checkAuthorities = props =>\n    isAuthorized ? (\n      <ErrorBoundary>\n        <Component {...props} />\n      </ErrorBoundary>\n    ) : (\n      <div className=\"insufficient-authority\">\n        <div className=\"alert alert-danger\">\n          <Translate contentKey=\"error.http.403\">You are not authorized to access this page.</Translate>\n        </div>\n      </div>\n    );\n\n  const renderRedirect = props => {\n    if (!sessionHasBeenFetched) {\n      return <div></div>;\n    } else {\n      return isAuthenticated ? (\n        checkAuthorities(props)\n      ) : (\n        <Redirect\n          to={{\n            pathname: '/login',\n            search: props.location.search,\n            state: { from: props.location },\n          }}\n        />\n      );\n    }\n  };\n\n  if (!Component) throw new Error(`A component needs to be specified for private route for path ${(rest as any).path}`);\n\n  return <Route {...rest} render={renderRedirect} />;\n};\n\nexport const hasAnyAuthority = (authorities: string[], hasAnyAuthorities: string[]) => {\n  if (authorities && authorities.length !== 0) {\n    if (hasAnyAuthorities.length === 0) {\n      return true;\n    }\n    return hasAnyAuthorities.some(auth => authorities.includes(auth));\n  }\n  return false;\n};\n\nconst mapStateToProps = (\n  { authentication: { isAuthenticated, account, sessionHasBeenFetched } }: IRootState,\n  { hasAnyAuthorities = [] }: IOwnProps\n) => ({\n  isAuthenticated,\n  isAuthorized: hasAnyAuthority(account.authorities, hasAnyAuthorities),\n  sessionHasBeenFetched,\n});\n\ntype StateProps = ReturnType<typeof mapStateToProps>;\n\n/**\n * A route wrapped in an authentication check so that routing happens only when you are authenticated.\n * Accepts same props as React router Route.\n * The route also checks for authorization if hasAnyAuthorities is specified.\n */\nexport const PrivateRoute = connect(mapStateToProps, null, null, { pure: false })(PrivateRouteComponent);\n\nexport default PrivateRoute;\n"]}]}
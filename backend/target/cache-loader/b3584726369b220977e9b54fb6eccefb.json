{"remainingRequest":"/Users/jesusviloria/Documents/Crowdbotics/APTariffs/misc/apptest/node_modules/thread-loader/dist/cjs.js??ruleSet[1].rules[0].use[2]!/Users/jesusviloria/Documents/Crowdbotics/APTariffs/misc/apptest/node_modules/ts-loader/index.js??ruleSet[1].rules[0].use[3]!/Users/jesusviloria/Documents/Crowdbotics/APTariffs/misc/apptest/src/main/webapp/app/shared/reducers/locale.ts","dependencies":[{"path":"/Users/jesusviloria/Documents/Crowdbotics/APTariffs/misc/apptest/src/main/webapp/app/shared/reducers/locale.ts","mtime":1621189592437},{"path":"/Users/jesusviloria/Documents/Crowdbotics/APTariffs/misc/apptest/node_modules/react-hot-loader/webpack.js","mtime":499162500000},{"path":"/Users/jesusviloria/Documents/Crowdbotics/APTariffs/misc/apptest/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jesusviloria/Documents/Crowdbotics/APTariffs/misc/apptest/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jesusviloria/Documents/Crowdbotics/APTariffs/misc/apptest/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgX19hd2FpdGVyIH0gZnJvbSAidHNsaWIiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgZGF5anMgZnJvbSAnZGF5anMnOwppbXBvcnQgeyBUcmFuc2xhdG9yQ29udGV4dCB9IGZyb20gJ3JlYWN0LWpoaXBzdGVyJzsKZXhwb3J0IGNvbnN0IEFDVElPTl9UWVBFUyA9IHsKICAgIFNFVF9MT0NBTEU6ICdsb2NhbGUvU0VUX0xPQ0FMRScsCn07CmNvbnN0IGluaXRpYWxTdGF0ZSA9IHsKICAgIGN1cnJlbnRMb2NhbGU6ICcnLAp9OwpleHBvcnQgZGVmYXVsdCAoc3RhdGUgPSBpbml0aWFsU3RhdGUsIGFjdGlvbikgPT4gewogICAgc3dpdGNoIChhY3Rpb24udHlwZSkgewogICAgICAgIGNhc2UgQUNUSU9OX1RZUEVTLlNFVF9MT0NBTEU6IHsKICAgICAgICAgICAgY29uc3QgY3VycmVudExvY2FsZSA9IGFjdGlvbi5sb2NhbGU7CiAgICAgICAgICAgIGlmIChzdGF0ZS5jdXJyZW50TG9jYWxlICE9PSBjdXJyZW50TG9jYWxlKSB7CiAgICAgICAgICAgICAgICBkYXlqcy5sb2NhbGUoY3VycmVudExvY2FsZSk7CiAgICAgICAgICAgICAgICBUcmFuc2xhdG9yQ29udGV4dC5zZXRMb2NhbGUoY3VycmVudExvY2FsZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIGN1cnJlbnRMb2NhbGUsCiAgICAgICAgICAgIH07CiAgICAgICAgfQogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIHJldHVybiBzdGF0ZTsKICAgIH0KfTsKZXhwb3J0IGNvbnN0IHNldExvY2FsZSA9IGxvY2FsZSA9PiAoZGlzcGF0Y2gpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkgewogICAgaWYgKCFPYmplY3Qua2V5cyhUcmFuc2xhdG9yQ29udGV4dC5jb250ZXh0LnRyYW5zbGF0aW9ucykuaW5jbHVkZXMobG9jYWxlKSkgewogICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgYXhpb3MuZ2V0KGBpMThuLyR7bG9jYWxlfS5qc29uP2J1aWxkVGltZXN0YW1wPSR7cHJvY2Vzcy5lbnYuQlVJTERfVElNRVNUQU1QfWAsIHsgYmFzZVVSTDogJycgfSk7CiAgICAgICAgVHJhbnNsYXRvckNvbnRleHQucmVnaXN0ZXJUcmFuc2xhdGlvbnMobG9jYWxlLCByZXNwb25zZS5kYXRhKTsKICAgIH0KICAgIGRpc3BhdGNoKHsKICAgICAgICB0eXBlOiBBQ1RJT05fVFlQRVMuU0VUX0xPQ0FMRSwKICAgICAgICBsb2NhbGUsCiAgICB9KTsKfSk7Cg=="},{"version":3,"file":"/Users/jesusviloria/Documents/Crowdbotics/APTariffs/misc/apptest/src/main/webapp/app/shared/reducers/locale.ts","sourceRoot":"","sources":["/Users/jesusviloria/Documents/Crowdbotics/APTariffs/misc/apptest/src/main/webapp/app/shared/reducers/locale.ts"],"names":[],"mappings":";AAAA,OAAO,KAAK,MAAM,OAAO,CAAC;AAC1B,OAAO,KAAK,MAAM,OAAO,CAAC;AAE1B,OAAO,EAAE,iBAAiB,EAAE,MAAM,gBAAgB,CAAC;AAEnD,MAAM,CAAC,MAAM,YAAY,GAAG;IAC1B,UAAU,EAAE,mBAAmB;CAChC,CAAC;AAEF,MAAM,YAAY,GAAG;IACnB,aAAa,EAAE,EAAE;CAClB,CAAC;AAIF,eAAe,CAAC,QAAqB,YAAY,EAAE,MAAM,EAAe,EAAE;IACxE,QAAQ,MAAM,CAAC,IAAI,EAAE;QACnB,KAAK,YAAY,CAAC,UAAU,CAAC,CAAC;YAC5B,MAAM,aAAa,GAAG,MAAM,CAAC,MAAM,CAAC;YACpC,IAAI,KAAK,CAAC,aAAa,KAAK,aAAa,EAAE;gBACzC,KAAK,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;gBAC5B,iBAAiB,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;aAC5C;YACD,OAAO;gBACL,aAAa;aACd,CAAC;SACH;QACD;YACE,OAAO,KAAK,CAAC;KAChB;AACH,CAAC,CAAC;AAEF,MAAM,CAAC,MAAM,SAAS,GAA6B,MAAM,CAAC,EAAE,CAAC,CAAM,QAAQ,EAAC,EAAE;IAC5E,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE;QACzE,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,GAAG,CAAC,QAAQ,MAAM,wBAAwB,OAAO,CAAC,GAAG,CAAC,eAAe,EAAE,EAAE,EAAE,OAAO,EAAE,EAAE,EAAE,CAAC,CAAC;QACvH,iBAAiB,CAAC,oBAAoB,CAAC,MAAM,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC;KAC/D;IACD,QAAQ,CAAC;QACP,IAAI,EAAE,YAAY,CAAC,UAAU;QAC7B,MAAM;KACP,CAAC,CAAC;AACL,CAAC,CAAA,CAAC","sourcesContent":["import axios from 'axios';\nimport dayjs from 'dayjs';\n\nimport { TranslatorContext } from 'react-jhipster';\n\nexport const ACTION_TYPES = {\n  SET_LOCALE: 'locale/SET_LOCALE',\n};\n\nconst initialState = {\n  currentLocale: '',\n};\n\nexport type LocaleState = Readonly<typeof initialState>;\n\nexport default (state: LocaleState = initialState, action): LocaleState => {\n  switch (action.type) {\n    case ACTION_TYPES.SET_LOCALE: {\n      const currentLocale = action.locale;\n      if (state.currentLocale !== currentLocale) {\n        dayjs.locale(currentLocale);\n        TranslatorContext.setLocale(currentLocale);\n      }\n      return {\n        currentLocale,\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport const setLocale: (locale: string) => void = locale => async dispatch => {\n  if (!Object.keys(TranslatorContext.context.translations).includes(locale)) {\n    const response = await axios.get(`i18n/${locale}.json?buildTimestamp=${process.env.BUILD_TIMESTAMP}`, { baseURL: '' });\n    TranslatorContext.registerTranslations(locale, response.data);\n  }\n  dispatch({\n    type: ACTION_TYPES.SET_LOCALE,\n    locale,\n  });\n};\n"]}]}